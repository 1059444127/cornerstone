<!DOCTYPE HTML>
<html>
<head>
    <!-- twitter bootstrap CSS stylesheet - not required by cornerstone -->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">


    <style>
        /* prevents selection when left click dragging */
        .disable-selection {
            -moz-user-select: none; -webkit-user-select: none; -ms-user-select:none; user-select:none;
        }

    </style>
</head>
<body>
<div class="container">

    <h1>
        tools/length/index.html
    </h1>

    This is an example of using the cornerstone length measurement tool

    <br>
    <br>

    measure by dragging the left mouse button
    <br>
    <br>

    <button id="enable" type="button" class="btn">Enable</button>
    <button id="disable" type="button" class="btn">Disable</button>
    <button id="activate" type="button" class="btn">Activate</button>
    <button id="deactivate" type="button" class="btn">Deactivate</button>

    <br>

    <div id="dicomImage" class ="disable-selection" style="width:512px;height:512px"
         unselectable='on'
         onselectstart='return false;'
         onmousedown='return false;'>
    </div>


</div>
</body>


<!-- jquery - included to make things easier to demo, needed by cornerstone tools -->
<script src="https://code.jquery.com/jquery-2.1.0.min.js"></script>

<!-- include the cornerstone library -->
<script src="../../../dist/cornerstone.js"></script>

<!-- include the cornerstone tools library -->
<script src="../../../dist/cornerstone-tools.js"></script>


<!-- include special code for these examples which provides images -->
<script src="../../exampleImageIdLoader.js"></script>


<script>

    // image enable the dicomImage element
    var imageId = 'example://1';
    var element = $('#dicomImage').get(0);
    cornerstone.enable(element, imageId);
    cornerstoneTools.length.enable(element);
    cornerstoneTools.length.activate(element, 1);

    $('#enable').click(function() {
        cornerstoneTools.length.enable(element);
    });
    $('#disable').click(function() {
        cornerstoneTools.length.disable(element);
    });
    $('#activate').click(function() {
        cornerstoneTools.length.activate(element, 1);
    });
    $('#deactivate').click(function() {
        cornerstoneTools.length.deactivate(element, 1);
    });

    // start off by adding a measurement
    var data = {
        visible : true,
        handles : {
            start : {
                x : 152.5,
                y : 148.5,
                active: false
            },
            end: {
                x : 155.5,
                y : 91.5,
                active: false
            }
        }
    };
    cornerstoneTools.addToolState(element, 'length', data);
    cornerstone.updateImage(element);

</script>
</html>
